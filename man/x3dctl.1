.TH X3DCTL 1 "2026" "x3dctl 0.4" "User Commands"

.SH NAME
x3dctl \- Workload policy controller for AMD X3D processors

.SH SYNOPSIS
.B x3dctl
.RI [ options ] " command " [ application ]

.SH DESCRIPTION
x3dctl is a command-line utility for controlling AMD X3D CPU operating modes
and applying deterministic workload policies on Linux systems.

It provides a lightweight interface for:

- Switching global X3D operating modes
- Applying CPU affinity to specific CCDs
- Setting process scheduling class
- Adjusting niceness
- Applying I/O priority

Privileged operations are delegated to a restricted helper binary executed via sudo.

.SH PROFILE MODEL

Applications are mapped to predefined workload profiles using:

.I /etc/x3dctl.conf

Format:

application=profile

Supported profiles:

.TP
.B gaming
Cache CCD, nice -5, SCHED_OTHER, high I/O priority

.TP
.B workstation
Frequency CCD, nice 5, SCHED_BATCH, moderate I/O priority

.TP
.B frequency
Frequency CCD, nice 0, SCHED_OTHER

If no mapping exists, the default profile is "gaming".

.SH COMMANDS

.TP
.B run
Launch an application and apply its configured profile.

Example:

.B x3dctl run steam

.TP
.B gaming
Switch global X3D mode to cache-priority.

.TP
.B performance
Switch global X3D mode to frequency-priority.

.TP
.B toggle
Switch global X3D mode to the opposite of the current mode.

.TP
.B status
Display current X3D operating mode.

.SH OPTIONS

.TP
.BR -q ", " --quiet
Suppress informational output.

.TP
.BR -v ", " --verbose
Enable additional logging output.

.SH CONFIGURATION

Configuration file:

.I /etc/x3dctl.conf

Rules:

- Must be owned by root
- Must not be writable by group or others
- Lines beginning with '#' are ignored
- No whitespace allowed around '='

Example:

steam=gaming
blender=workstation

Profiles are enforced inside the privileged helper and cannot be defined dynamically.

.SH SECURITY

x3dctl enforces strict privilege separation.

The helper binary:

- Validates configuration ownership
- Restricts scheduler classes
- Prevents realtime scheduling
- Applies deterministic policy

.SH FILES

.TP
.I /usr/local/bin/x3dctl
Frontend command-line interface.

.TP
.I /usr/local/bin/x3dctl-helper
Privileged helper binary.

.TP
.I /etc/x3dctl.conf
Application-to-profile mapping file.

.TP
.I /etc/sudoers.d/x3dctl
Sudo policy allowing helper execution.

.SH EXIT STATUS

.TP
0
Success

.TP
1
General failure or invalid argument

.SH DESIGN PHILOSOPHY

x3dctl prioritizes:

- Deterministic behavior
- Clear privilege separation
- Minimal runtime overhead
- Transparent configuration
- System stability

.SH AUTHOR
Written by GrandBirdLizard.

.SH LICENSE
MIT

